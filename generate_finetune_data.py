import json

# 이미 추출된 ARA 학습용 원천 데이터 (학사일정 + 학칙 + 졸업요건)
# (이 데이터는 방금 전 제가 파일들을 분석하여 확보한 결과입니다.)
raw_qa_data = [
    # --- 1. 2026학년도 학사일정 (Schedule) ---
    {"q": "2026학년도 입학식 언제야?", "a": "2.26.(목)"},
    {"q": "2026학년도 1학기 개강 언제야?", "a": "3.3.(화)"},
    {"q": "2026학년도 수강신청 변경 기간 언제야?", "a": "3.3.(화) ~ 3.9.(월)"},
    {"q": "2026학년도 중간고사 언제야?", "a": "4.21.(화) ~ 4.27.(월)"},
    {"q": "2026학년도 기말고사 언제야?", "a": "6.15.(월) ~ 6.19.(금)"},
    {"q": "2026학년도 하계방학 언제 시작해?", "a": "6.22.(월)"},
    
    # --- 2. 졸업 및 학점 규정 (Rules) ---
    {"q": "해사대학 졸업 학점 몇 점이야?", "a": "150학점이며, 학기당 최대 23학점까지 수강 가능합니다."},
    {"q": "공과대학 졸업 학점은?", "a": "140학점(일부 학과 130학점)이며, 학기당 최대 18학점 수강 가능합니다."},
    {"q": "졸업인증제 외국어영역 면제 조건이 뭐야?", "a": "취업생(건강보험 직장가입자)의 경우 재직증명서 등을 제출하면 대체 인정이 가능합니다."},
    
    # --- 3. 한국해양대 주요 학칙 (School Regulations) ---
    {"q": "학사경고 기준이 뭐야?", "a": "매 학기 성적 평점평균이 1.75 미만인 경우 학사경고를 받게 됩니다."},
    {"q": "휴학은 언제 할 수 있어?", "a": "매 학기 지정된 기간(보통 개강 전 3주간)에 종합정보시스템을 통해 신청할 수 있습니다."},
    {"q": "계절학기 수강 신청 자격은?", "a": "재학생 및 휴학생 모두 신청 가능하며, 최대 6학점까지 이수할 수 있습니다."}
]

# JSONL 파일 생성 로직
output_file = "ara_finetune.jsonl"
print(f"Creating {output_file}...")

with open(output_file, "w", encoding="utf-8") as f:
    for item in raw_qa_data:
        # ARA 페르소나 적용 (System Message)
        entry = {
            "messages": [
                {
                    "role": "system", 
                    "content": "당신은 한국해양대학교 재학생의 개인 비서 'ARA'입니다. 학칙과 일정에 근거하여 항상 존댓말(학우님)로 답변하십시오."
                },
                {
                    "role": "user", 
                    "content": item['q']
                },
                {
                    "role": "assistant", 
                    "content": f"학우님, 문의하신 내용에 대한 답변입니다. {item['a']} (자세한 내용은 학사공지를 참고하세요.)"
                }
            ]
        }
        f.write(json.dumps(entry, ensure_ascii=False) + "\n")

print("완료! 'ara_finetune.jsonl' 파일이 생성되었습니다.")
print("이제 이 파일을 OpenAI에 업로드하여 파인 튜닝을 시작하세요.")
